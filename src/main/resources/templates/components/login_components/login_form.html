<section th:fragment="login_form" class="py-5">
   <div class="container">
      <div class="row justify-content-center">
         <div class="col-lg-6">
            <div class="card shadow" style="max-width: 600px; margin: auto">
               <div class="card-header bg-dark text-white text-center py-3">
                  <h3 class="mb-0">Prihlásenie</h3>
               </div>
               <div class="card-body bg-white p-4">
                  <form method="POST" th:action="@{/login}">
                     <div class="mb-3">
                        <label for="email" class="form-label">Email (školský)</label>
                        <input
                                type="email"
                                class="form-control"
                                id="email"
                                name="email"
                                placeholder="example@stud.uniza.sk"
                                pattern="^[a-zA-Z0-9._%+\-]+@(stud\.uniza\.sk|uniza\.sk)$"
                                title="Email musí končiť na @uniza.sk alebo na @stud.uniza.sk"
                                required
                        />
                     </div>
                     <div class="mb-3">
                        <label for="password" class="form-label">Heslo</label>
                        <input
                                type="password"
                                class="form-control"
                                id="password"
                                name="password"
                                pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9]).{8,}$"
                                title="Heslo musí obsahovať min. 8 znakov vrátane aspoň 1 malého písmena, 1 veľkého písmena a 1 špeciálneho znaku."
                                required
                        />
                     </div>
                     <button type="submit" class="btn btn-uniza">Prihlásiť sa</button>
                     <div id="login_message" class="mt-3 text-success"></div>
                  </form>
               </div>
            </div>
         </div>
      </div>
   </div>
   <script type="module">
      //poslanie správy pomocou query /login?message=some_message
      document.addEventListener("DOMContentLoaded", () => {
         const params = new URLSearchParams(window.location.search);
         if(params.get("message"))
         {
            document.getElementById("login_message").textContent = decodeURIComponent(params.get("message"));
         }
      });
   </script>
</section>
